"use strict";(()=>{var mt=Object.defineProperty;var r=(b,g)=>mt(b,"name",{value:g,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[9016],{16191:(b,g,c)=>{var i=c(90420),v=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p=r((t,e,s,o)=>{for(var n=o>1?void 0:o?f(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&v(e,s,n),n},"__decorateClass");const h="*";let d=r(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=""}active(t,e){return this.scopeTypeMatch(t.type)&&this.modeMatch(e)}scopeTypeMatch(t){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(t):!0}modeMatch(t){return this.char===h||this.char===t}character(){return this.char===h?"":this.char}},"CommandPaletteModeElement");p([i.Lj],d.prototype,"char",2),p([i.Lj],d.prototype,"placeholder",2),p([i.Lj],d.prototype,"scopeTypes",2),d=p([i.Ih],d);var u=Object.defineProperty,S=Object.getOwnPropertyDescriptor,y=r((t,e,s,o)=>{for(var n=o>1?void 0:o?S(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&u(e,s,n),n},"command_palette_tip_element_decorateClass");const C="*",x="";let T=r(class extends HTMLElement{constructor(){super(...arguments);this.scopeTypes=x,this.mode=C,this.matchMode=x,this.value=C,this.onEmpty=!1,this.onError=!1}connectedCallback(){this.hidden=!0}available(t,e=!1,s=!1){return this.valueMatch(t.text)&&this.scopeTypeMatch(t.scope.type)&&this.modeMatch(t.mode)&&this.showOnEmpty(e)&&this.showOnError(s)}toggle(t,e=!1,s=!1){this.hidden=!this.available(t,e,s)}valueMatch(t){return this.value===C||this.value===t}scopeTypeMatch(t){return this.scopeTypes!==x&&(this.scopeTypes===C||JSON.parse(this.scopeTypes).includes(t))}modeMatch(t){if(this.matchMode===x)return this.mode===C||this.mode===t;{const e=new RegExp(this.matchMode);return t.match(e)!==null}}showOnEmpty(t){return this.onEmpty?t:!0}showOnError(t){return this.onError?t:!0}},"CommandPaletteTipElement");y([i.Lj],T.prototype,"scopeTypes",2),y([i.Lj],T.prototype,"mode",2),y([i.Lj],T.prototype,"matchMode",2),y([i.Lj],T.prototype,"value",2),y([i.Lj],T.prototype,"onEmpty",2),y([i.Lj],T.prototype,"onError",2),T=y([i.Ih],T);var ft=c(34348),ke=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,k=r((t,e,s,o)=>{for(var n=o>1?void 0:o?Re(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&ke(e,s,n),n},"command_palette_token_element_decorateClass");let I=r(class extends HTMLElement{constructor(){super(...arguments);this.type="",this.id="",this.text="",this.value=""}},"CommandPaletteTokenElement");k([i.Lj],I.prototype,"type",2),k([i.Lj],I.prototype,"id",2),k([i.Lj],I.prototype,"text",2),k([i.Lj],I.prototype,"value",2),I=k([i.Ih],I);var yt=c(65881),Fe=c(58070),vt=c(23001),qe=c(74365),z=c(99780),se=c(26850),He=c(9731),N=c(43832);class U extends N.j{fetch(e,s){return this.fetchSrc(e)}enabledFor(e){return this.modeMatch(e)&&this.scopeMatch(e)}clearCache(){}scopeMatch(e){return this.scopeTypes.length===0||this.scopeTypes.includes(e.scope.type)}modeMatch(e){return this.modes.includes(e.mode)||this.hasWildCard}async fetchSrc(e,s=""){var o;if(!this.src)throw new Error("No src defined");const n=new URL(this.src,window.location.origin),a=e.params();s&&a.set("mode",s),n.search=a.toString();const l=await fetch(n.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(l.ok){const D=await l.json();return{results:((o=D.results)==null?void 0:o.map(E=>He.g.build(E)))||[],octicons:D.octicons}}else return{error:!0,results:[]}}}r(U,"RemoteProvider");class $ extends U{constructor(){super(...arguments);this.maxItems=1e3,this.scopedItems={},this.cachedOcticons={}}clearCache(){super.clearCache(),this.scopedItems={},this.cachedOcticons={}}get debounce(){return 0}async prefetch(e){if(!this.scopeMatch(e)||this.scopedItems[e.scope.id])return;const s=new se.A("",e.mode,{subjectId:e.subjectId,subjectType:e.subjectType,returnTo:e.returnTo,scope:e.scope}),o=await this.fetchSrc(s,e.mode);this.octicons=o.octicons||[];const n=o.results||[];this.scopedItems[e.scope.id]=n,this.cachedOcticons[e.scope.id]=this.octicons}async fetch(e,s){const o=this.scopedItems[e.scope.id]||[],n=this.cachedOcticons[e.scope.id]||[];return{results:this.fuzzyFilter(o,e).slice(0,this.maxItems),octicons:n}}}r($,"PrefetchedProvider");class oe extends ${async fetchSrc(e){if(!this.src)throw new Error("No src provided");const s=new URL(this.src,window.location.origin);s.search=e.params().toString();const n=await(await fetch(s.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(!n.results)return;const a=n.results[0];if(a.base_file_path){const l=a.base_file_path,D=a.paths;n.results=D.map(E=>z.s.from({title:E,path:`${l}/${E}`,icon:"file-color-fg-muted",group:"files"}))}else a.action&&a.action.type==="access_policy"?n.results=[new qe.i(a)]:n.results=[];return n}async fetch(e,s=!1){const o=e.text.match(/(.+):(\d*)\s*$/);return o?this.fetchWithLineNumbers(e,o):super.fetch(e,s)}async fetchWithLineNumbers(e,s){const o=s[1],n=s[2],a=new se.A(o,e.mode,{scope:e.scope}),l=[],D=(await super.fetch(a,!1)).results;for(const E of D)E instanceof z.s&&l.push(this.convert(E,n));return{results:l}}convert(e,s){return s===""||!(e instanceof z.s)||(e.title=`${e.title}:${s}`,e.action.path=`${e.action.path}#L${s}`),e}}r(oe,"FilesProvider");class ne extends N.j{enabledFor(e){return!0}clearCache(){}get hasCommands(){return!1}get debounce(){return 0}async fetch(e,s=!1){return e.mode!=="?"&&!s?{results:[]}:{results:Array.from(this.element.querySelectorAll("command-palette-help")).filter(a=>a.show(e)).map((a,l)=>a.toItem(l))}}}r(ne,"HelpProvider");var ze=c(3404);class re extends N.j{enabledFor(e){return!(e.isBlank()||e.mode==="?"||e.mode===">")}clearCache(){}get hasCommands(){return!1}async fetch(e,s=!1){return{results:[ze.K.create(e)]}}}r(re,"SearchLinksProvider");class W{static create(e){const s=this.providers[e.type];if(!s)throw new Error(`Unknown provider type: ${e.type}`);return new s(e)}}r(W,"ServerDefinedProviderFactory"),W.providers={remote:U,prefetched:$,files:oe,help:ne,"search-links":re};var Ne=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,A=r((t,e,s,o)=>{for(var n=o>1?void 0:o?Ue(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&Ne(e,s,n),n},"server_defined_provider_element_decorateClass");let w=r(class extends Fe.b{constructor(){super(...arguments);this._wildcard="*"}get debounce(){return parseInt(this.fetchDebounce,10)}get hasCommands(){return this.supportsCommands}get hasWildCard(){return this.modes.includes(this._wildcard)}get modes(){return this.supportedModes===""&&(this._modes=[""]),this._modes||(this._modes=JSON.parse(this.supportedModes)),this._modes}get scopeTypes(){return this.supportedScopeTypes===""?[]:(this._scopeTypes||(this._scopeTypes=JSON.parse(this.supportedScopeTypes)),this._scopeTypes)}connectedCallback(){this.provider=W.create(this)}},"ServerDefinedProviderElement");A([i.Lj],w.prototype,"type",2),A([i.Lj],w.prototype,"supportedModes",2),A([i.Lj],w.prototype,"fetchDebounce",2),A([i.Lj],w.prototype,"supportedScopeTypes",2),A([i.Lj],w.prototype,"src",2),A([i.Lj],w.prototype,"supportsCommands",2),w=A([i.Ih],w);var $e=c(52815),We=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,B=r((t,e,s,o)=>{for(var n=o>1?void 0:o?Ze(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&We(e,s,n),n},"command_palette_help_element_decorateClass");let L=r(class extends HTMLElement{connectedCallback(){this.hidden=!0}show(t){return this.isEnabledScopeType(t)}isEnabledScopeType(t){return this.scopeTypes?this.scopeTypes&&JSON.parse(this.scopeTypes).includes(t.scope.type):!0}toItem(t){const e={group:this.group,title:this.titleElement.innerHTML,index:t};return this.prefix&&(e.prefix=this.prefix),this.hintElement.textContent&&(e.persistentHint=this.hintElement.innerHTML),$e.B.from(e)}},"CommandPaletteHelpElement");B([i.Lj],L.prototype,"group",2),B([i.Lj],L.prototype,"prefix",2),B([i.Lj],L.prototype,"scopeTypes",2),B([i.fA],L.prototype,"titleElement",2),B([i.fA],L.prototype,"hintElement",2),L=B([i.Ih],L);var gt=c(16517),bt=c(20181),St=c(94634),Ct=c(32004),Ke=c(46635);class m{constructor(){this.iconType="octicon",this.group="commands",this.priority=0,this.dismissAfterRun=!0}static item(e={}){return new Ke.U(new this,e)}run(e){new Error("Not implemented")}isApplicable(e){return!0}}r(m,"MainWindowCommand");class q extends m{constructor(){super(...arguments);this.group="global_commands"}}r(q,"MainWindowGlobalCommand");class ie extends m{constructor(){super(...arguments);this.title="Delete discussion\u2026",this.icon="trash-color-fg-muted"}get deleteButton(){return document.querySelector("button#dialog-show-delete-discussion")}get dialogElement(){return document.querySelector("#delete-discussion")}isApplicable(){return this.deleteButton!=null}run(){const e=this.deleteButton;if(e){e.click(),setTimeout(()=>{var s,o;(o=(s=this.dialogElement)==null?void 0:s.querySelector('button[type="submit"]'))==null||o.focus()},0);return}}}r(ie,"DeleteDiscussion");class ae extends m{constructor(){super(...arguments);this.title="Edit discussion body",this.icon="pencil-color-fg-muted"}get editButton(){return document.querySelector(".js-discussions-comment-edit-button")}isApplicable(){return this.editButton!=null}run(){var e;(e=this.editButton)==null||e.click()}}r(ae,"EditDiscussion");class ce extends m{constructor(){super(...arguments);this.title="Transfer discussion\u2026",this.icon="arrow-right-color-fg-muted"}fetchDetails(){return document.querySelector("details.js-transfer-discussion-details")}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}run(){var e;const s=this.fetchDetails();if(s){const o=r(()=>{setTimeout(()=>{var n;(n=s==null?void 0:s.querySelector("[data-menu-button]"))==null||n.focus()},0)},"focusMenu");(e=s.querySelector("include-fragment"))==null||e.addEventListener("load",o),s.open=!0,o()}}}r(ce,"TransferDiscussion");const Xe=[ie,ce,ae];var M=c(74030),le=c(33241),Z=c(31756);class _ extends m{constructor(){super(...arguments);this.title="2 spaces",this.iconType="none",this.tabSize="2",this.group=""}async run(e){this.updateTabSize(),this.saveSettings(e)}updateTabSize(){const e=document.querySelectorAll("[data-tab-size]");for(const s of e)s.setAttribute("data-tab-size",this.tabSize)}async saveSettings(e){const s=document.querySelector(".js-tab-size-csrf").value,o=document.querySelector(".js-tab-size-path").value,n=new FormData;n.set("tab_size_rendering_preference",this.tabSize);const a="Failed to save tab size preference";try{(await fetch(o,{method:"PUT",body:n,mode:"same-origin",headers:{"Scoped-CSRF-Token":s,"X-Requested-With":"XMLHttpRequest"}})).ok?e.displayFlash("success","Tab size rendering updated"):e.displayFlash("error",a)}catch{e.displayFlash("error",a)}}}r(_,"TabSizeTwo");class ue extends _{constructor(){super(...arguments);this.title="3 spaces",this.tabSize="3"}}r(ue,"TabSizeThree");class de extends _{constructor(){super(...arguments);this.title="4 spaces",this.tabSize="4"}}r(de,"TabSizeFour");class he extends _{constructor(){super(...arguments);this.title="6 spaces",this.tabSize="6"}}r(he,"TabSizeSix");class pe extends _{constructor(){super(...arguments);this.title="8 spaces",this.tabSize="8"}}r(pe,"TabSizeEight");class me extends _{constructor(){super(...arguments);this.title="10 spaces",this.tabSize="10"}}r(me,"TabSizeTen");class fe extends _{constructor(){super(...arguments);this.title="12 spaces",this.tabSize="12"}}r(fe,"TabSizeTwelve");class ye extends q{constructor(){super(...arguments);this.title="Change tab size rendering",this.icon="gear-color-fg-muted",this.priority=10,this.dismissAfterRun=!1}isApplicable(){return(0,Z.c)("COMMAND_PALETTE_MULTI_PAGE_COMMANDS")}run(e){e.pushPage(new le.Z4(this.title,"tab-sizes",this.pageItems),!0)}get pageItems(){return[_,ue,de,he,pe,me,fe].map(e=>e.item())}select(e){this.run(e)}}r(ye,"SwitchTabSize");class ve extends m{constructor(){super(...arguments);this.title="Open in github.dev editor",this.icon="codespaces-color-fg-muted",this.priority=10}isApplicable(){return this.fetchLink()instanceof HTMLAnchorElement}fetchLink(){return document.querySelector(".js-github-dev-shortcut")}run(){var e;(e=this.fetchLink())==null||e.click()}}r(ve,"OpenInDotDev");class ge extends q{constructor(){super(...arguments);this.title="Switch theme",this.icon="paintbrush-color-fg-muted",this.priority=9,this.dismissAfterRun=!1}isApplicable(){return(0,Z.c)("COMMAND_PALETTE_MULTI_PAGE_COMMANDS")}run(e){e.pushPage(new le.Z4(this.title,"switch-theme-page-1",this.pageItems),!0)}get pageItems(){return[j.item({group:"",title:"Default dark"}),J.item({group:"",title:"Default light"}),X.item({group:"",title:"Dark dimmed"}),K.item({group:"",title:"Dark high contrast"}),V.item({group:"",title:"Sync with system settings"})]}select(e){this.run(e)}}r(ge,"SwitchTheme");class j extends q{constructor(){super(...arguments);this.title="Switch theme to default dark",this.icon="moon-color-fg-muted",this.mode="dark",this.theme="dark"}isApplicable(){return!(0,Z.c)("COMMAND_PALETTE_MULTI_PAGE_COMMANDS")}applyTheme(){this.loadStyles(this.theme),this.mode!=="auto"&&(0,M.on)(this.theme,this.mode),(0,M.h5)(this.mode)}async run(){this.applyTheme(),this.saveSettings(this.mode,this.lightTheme,this.darkTheme)}async saveSettings(e=this.mode,s,o){const n=document.querySelector(".js-color-mode-csrf").value,a=document.querySelector(".js-color-mode-path").value,l=new FormData;l.set("color_mode",e),s&&l.set("light_theme",s),o&&l.set("dark_theme",o);const E=await(await fetch(a,{method:"PUT",body:l,mode:"same-origin",headers:{"Scoped-CSRF-Token":n,"X-Requested-With":"XMLHttpRequest"}})).json();this.loadStyles(E.light_theme),this.loadStyles(E.dark_theme),(0,M.on)(E.light_theme,"light"),(0,M.on)(E.dark_theme,"dark"),(0,M.h5)(E.color_mode)}loadStyles(e){const s=document.querySelector(`link[data-color-theme='${e}']`);s&&!s.hasAttribute("href")&&s.hasAttribute("data-href")&&s.setAttribute("href",s.getAttribute("data-href"))}get darkTheme(){return this.mode==="dark"?this.theme:(0,M.yn)("dark")}get lightTheme(){return this.mode==="light"?this.theme:(0,M.yn)("light")}}r(j,"SwitchToDark");class K extends j{constructor(){super(...arguments);this.title="Switch theme to dark high contrast",this.theme="dark_high_contrast"}}r(K,"SwitchToDarkHighContrast");class X extends j{constructor(){super(...arguments);this.title="Switch theme to dark dimmed",this.theme="dark_dimmed"}}r(X,"SwitchToDarkDimmed");class J extends j{constructor(){super(...arguments);this.title="Switch theme to default light",this.icon="sun-color-fg-muted",this.mode="light",this.theme="light"}}r(J,"SwitchToLight");class V extends j{constructor(){super(...arguments);this.title="Switch theme settings to sync with system",this.icon="sun-color-fg-muted",this.mode="auto"}get darkTheme(){}get lightTheme(){}}r(V,"SwitchToAuto");class be extends m{constructor(){super();const e=this.isSubscribe();this.title=`${e?"Subscribe":"Unsubscribe"}`,this.icon=`${e?"bell":"bell-slash"}-color-fg-muted`}isApplicable(){var e;return this.fetchButton()instanceof HTMLButtonElement&&((e=this.fetchButton())==null?void 0:e.disabled)===!1}isSubscribe(){var e,s;return((s=(e=this.fetchButton())==null?void 0:e.textContent)==null?void 0:s.trim())==="Subscribe"}fetchButton(){return document.querySelector(".thread-subscribe-button")}run(){var e;(e=this.fetchButton())==null||e.click()}}r(be,"UpdateSubscription");const Je=[ve,ye,ge,J,j,X,K,V,be];function Se(t){t.focus(),t.selectionStart=t.selectionEnd=t.value.length}r(Se,"moveCursorToEnd");class G extends m{constructor(){super(...arguments);this.title="Edit issue body",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.isIssue()}run(){const e=document.createElement("button");e.hidden=!0,e.classList.add("js-comment-edit-button");const s=document.querySelector("div.js-comment");s==null||s.appendChild(e),e.click(),e.remove(),setTimeout(()=>{var o;const n=(o=s==null?void 0:s.parentElement)==null?void 0:o.querySelector("textarea.js-comment-field");n&&Se(n)},0)}}r(G,"EditIssueBody");class Q extends m{constructor(){super(...arguments);this.title="Edit issue title",this.icon="pencil-color-fg-muted"}issueBody(){return document.querySelector(".js-command-palette-issue-body")}isIssue(){return!!this.issueBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isIssue()}fetchButton(){return document.querySelector(".js-title-edit-button")}run(){var e;(e=this.fetchButton())==null||e.click(),setTimeout(()=>{const s=document.querySelector("input#issue_title[autofocus]");s&&Se(s)},0)}}r(Q,"EditIssueTitle");class Ce extends m{constructor(){super(...arguments);this.title="Transfer issue\u2026",this.icon="arrow-right-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-transfer-issue")}run(){var e;const s=this.fetchDetails();if(s){const o=r(()=>{setTimeout(()=>{var n;(n=s.querySelector("[data-menu-button]"))==null||n.focus()},0)},"focusMenu");(e=s.querySelector("include-fragment"))==null||e.addEventListener("load",o),s.open=!0,o()}}}r(Ce,"TransferIssue");class Ee extends m{constructor(){super();const e=this.isLock();this.title=`${e?"Lock":"Unlock"} conversation`,this.icon=`${e?"lock":"key"}-color-fg-muted`}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}isLock(){var e,s;return((s=(e=document.querySelector("summary.lock-toggle-link"))==null?void 0:e.textContent)==null?void 0:s.trim())==="Lock conversation"}fetchDetails(){return document.querySelector("details.js-lock-issue")}run(){const e=this.fetchDetails();e&&(e.open=!0,setTimeout(()=>{var s;(s=document.querySelector("#unlock-reason"))==null||s.focus()},0))}}r(Ee,"LockIssue");class Te extends m{constructor(){super(...arguments);this.title="Delete issue\u2026",this.icon="trash-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-delete-issue")}run(){const e=this.fetchDetails();e&&(e.open=!0,setTimeout(()=>{var s;(s=e.querySelector('button[type="submit"]'))==null||s.focus()},0))}}r(Te,"DeleteIssue");class we extends m{constructor(){super(...arguments);this.title="Convert issue to discussion\u2026",this.icon="comment-discussion-color-fg-muted"}isApplicable(){return this.fetchDetails()instanceof HTMLDetailsElement}fetchDetails(){return document.querySelector("details.js-convert-to-discussion")}run(){var e;const s=this.fetchDetails();if(s){const o=r(()=>{setTimeout(()=>{var n;(n=s.querySelector("[data-menu-button]"))==null||n.focus()},0)},"focusMenu");(e=s.querySelector("include-fragment"))==null||e.addEventListener("load",o),s.open=!0,o()}}}r(we,"ConvertToDiscussion");const Ve=[Q,G,Ee,Ce,Te,we];var Ge=c(21314),P=c(76745);class Y extends m{constructor(){super(...arguments);this.title="Open in new codespace",this.icon="codespaces-color-fg-muted",this.priority=11}isApplicable(){const e=this.fetchElements();return!!(e.codeModal&&e.codespacesForm&&e.newCodespacesButton&&e.codespacesTab)}run(){const{codeModal:e,codespacesTab:s,newCodespacesButton:o}=this.fetchElements();!(e&&s&&o)||(e.open=!0,s.click(),o instanceof HTMLButtonElement?o.click():(o.parentElement.open=!0,setTimeout(()=>{var n;(n=document.querySelector(".js-create-codespace-with-sku-button"))==null||n.focus()},0)))}fetchElements(){const e=document.querySelector(".js-create-codespaces-form-command"),s=(e==null?void 0:e.closest("details"))||null,o=(s==null?void 0:s.querySelector('[data-tab="cloud"]'))||null,n=(e==null?void 0:e.querySelector('summary[role="button"], button[type="submit"]'))||null;return{codespacesForm:e,codeModal:s,codespacesTab:o,newCodespacesButton:n}}}r(Y,"OpenCodespace");var R=c(76612);class _e extends G{constructor(){super(...arguments);this.title="Edit pull request body"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.isPullRequest()}}r(_e,"EditPullRequestBody");class Pe extends Q{constructor(){super(...arguments);this.title="Edit pull request title"}pullRequestBody(){return document.querySelector(".js-command-palette-pull-body")}isPullRequest(){return!!this.pullRequestBody()}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement&&this.isPullRequest()}}r(Pe,"EditPullRequestTitle");class xe extends m{constructor(){super(...arguments);this.title="Update current branch",this.icon="sync-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-update-branch-form button")}run(){const e=this.fetchButton();e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.click())}}r(xe,"UpdateBranch");class Ae extends m{constructor(){super(...arguments);this.title="Convert to draft",this.icon="git-pull-request-draft-color-fg-muted"}isApplicable(){return this.fetchButton()instanceof HTMLButtonElement}fetchButton(){return document.querySelector(".js-convert-to-draft")}run(){var e;const s=(e=this.fetchButton())==null?void 0:e.closest("details");s&&(s.open=!0,setTimeout(()=>{var o;(o=s.querySelector(".js-convert-to-draft"))==null||o.focus()},0))}}r(Ae,"ConvertToDraft");class Le extends m{constructor(){super(...arguments);this.title="Copy current branch name",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchClipboardCopy()instanceof P.Z}fetchClipboardCopy(){return document.querySelector(".js-copy-branch")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof P.Z){const o=s.value;try{await(0,R.z)(o),e.displayFlash("success","Branch name copied to clipboard!")}catch{e.displayFlash("error","Unable to copy branch name to clipboard!")}}}}r(Le,"CopyBranchName");const Qe=[Le,Pe,_e,xe,Ae,Y];class Me extends m{constructor(){super(...arguments);this.title="Copy file permalink",this.icon="copy-color-fg-muted"}isApplicable(){return this.fetchPermalinkContainer()instanceof HTMLAnchorElement}fetchPermalinkContainer(){return document.querySelector(".js-permalink-shortcut")}async run(e){const s=this.fetchPermalinkContainer();if(s){const o=`${s.href}${window.location.hash}`;try{await(0,R.z)(o),e.displayFlash("success","Copied permalink!")}catch{e.displayFlash("error","Failed to copy permalink!")}}}}r(Me,"CopyPermalink");class je extends m{constructor(){super(...arguments);this.title="Clone repository: Copy HTTPS",this.icon="copy-color-fg-muted",this.priority=4}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof P.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-http")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof P.Z){const o=s.value;try{await(0,R.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}r(je,"CloneCopyHttps");class De extends m{constructor(){super(...arguments);this.title="Clone repository: Copy SSH",this.icon="copy-color-fg-muted",this.priority=3}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof P.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-ssh")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof P.Z){const o=s.value;try{await(0,R.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}r(De,"CloneCopySsh");class Ie extends m{constructor(){super(...arguments);this.title="Clone repository: Copy GitHub CLI",this.icon="copy-color-fg-muted",this.priority=2}isApplicable(){return this.backendCommandsDisabled()&&this.fetchClipboardCopy()instanceof P.Z}fetchClipboardCopy(){return document.querySelector(".js-clone-url-gh-cli")}backendCommandsDisabled(){return!!window.commandPalette&&!window.commandPalette.hasAttribute("data-commands-path")}async run(e){const s=this.fetchClipboardCopy();if(s instanceof P.Z){const o=s.value;try{await(0,R.z)(o),e.displayFlash("success","Clone URL copied!")}catch{e.displayFlash("error","Clone URL couldn't be copied")}}}}r(Ie,"CloneCopyCli");const Ye=[je,De,Ie,Me,Y];class ee extends Ge.B{constructor(){super(...arguments);this.itemsByType={},this.items=[],this.needsFetch=!0}enabledFor(e){return e.mode===">"}get hasCommands(){return!0}async fetch(e){return this.loadCommandItems(e),{results:this.fuzzyFilter(this.items,e)}}get debounce(){return 0}loadCommandItems(e){this.needsFetch&&(this.items=[...Ve.map(s=>s.item()),...Qe.map(s=>s.item()),...Ye.map(s=>s.item()),...Xe.map(s=>s.item()),...Je.map(s=>s.item())].filter(s=>s.isApplicable(e)),this.needsFetch=!1)}clearCache(){this.needsFetch=!0}}r(ee,"MainWindowCommandsProvider"),window.commandPalette?window.commandPalette.registerProvider("main-window-commands-provider",new ee):window.addEventListener("command-palette-ready",()=>{var t;(t=window.commandPalette)==null||t.registerProvider("main-window-commands-provider",new ee)});var O=c(1648),et=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,Be=r((t,e,s,o)=>{for(var n=o>1?void 0:o?tt(e,s):e,a=t.length-1,l;a>=0;a--)(l=t[a])&&(n=(o?l(e,s,n):l(n))||n);return o&&n&&et(e,s,n),n},"command_palette_input_element_decorateClass");let F=r(class extends HTMLElement{constructor(){super(...arguments);this.setupComplete=!1,this.connected=!1,this.multiPageEnabled=!1}static get observedAttributes(){return["value","typeahead","scope"]}setup(){this.classList.add("d-flex","flex-items-center","flex-nowrap","py-1","pl-3","pr-2","border-bottom"),this.input=this.querySelector("input.js-input"),this.overlayInput=this.querySelector("input.js-overlay-input"),this.clearButton=this.querySelector(".js-clear"),this.scopeElement=this.querySelector("command-palette-scope"),this.searchIcon=this.querySelector(".js-search-icon"),this.spinner=this.querySelector(".js-spinner"),this.defaultScope=this.scope,this.hasAttribute("autofocus")&&this.input.focus(),this.clearButton.hidden=!0,this.value.length!==0&&this._dispatchEvent("command-palette-input"),this.setupComplete=!0}connectedCallback(){this.setupComplete||this.setup(),this.value=this.getAttribute("value")||"",this.typeahead=this.getAttribute("typeahead")||"",this.placeholder=this.getAttribute("placeholder")||"",this.connected=!0}attributeChangedCallback(t,e,s){!this.input||(t==="typeahead"?this.typeahead=s:t==="value"&&(this.value=s,this._dispatchEvent("command-palette-input")))}focus(){this.input.focus()}setRemovedTokenAndSelect(t){t&&(this.value=t),this.focus(),this.input.select()}get scope(){return this.scopeElement.scope}set scope(t){this.scopeElement.scope=t,this.clearButton.hidden=!this.hasSomethingToClear()}hasScope(){return this.scopeElement.hasScope()}clearScope(){return this.scopeElement.clearScope()}removeToken(){return this.scopeElement.removeToken()}get placeholder(){return this.input.getAttribute("placeholder")||""}set placeholder(t){this.input.setAttribute("placeholder",t)}get typeaheadPlaceholder(){var t;return((t=(0,i.P4)(this,"typeaheadPlaceholder"))==null?void 0:t.textContent)||""}set typeaheadPlaceholder(t){const e=(0,i.P4)(this,"typeaheadPlaceholder");e.textContent=t}get value(){var t;return((t=this.input)==null?void 0:t.value)||""}set value(t){this.input.value=t,this.typeahead=t,this.resetPlaceholder(),this.onInput()}get overlay(){return this.overlayInput.value}set overlay(t){this.overlayInput.value=t}set mirror(t){const e=(0,i.P4)(this,"mirror");e.textContent=t}get typeaheadText(){return(0,i.P4)(this,"typeaheadText").textContent||""}set typeaheadText(t){const e=(0,i.P4)(this,"typeaheadText");e.textContent=t}get typeahead(){return this.typeaheadValue}set typeahead(t){if(this.typeaheadValue=this.overlay+t,this.mirror=this.value,t==="")this.typeaheadText="";else if(this.placeholder="",this.typeaheadPlaceholder="",this.valueStartsWithTypeahead){const e=this.value.length-(this.overlay?1:0);this.typeaheadText=t.substring(e)}else this.typeaheadText=` \u2013 ${t}`}showModePlaceholder(t=""){this.typeaheadPlaceholder=t}get valueStartsWithTypeahead(){return this.typeaheadValue.toLowerCase().startsWith(this.value.toLowerCase())}get isCursorAtEnd(){return this.value.length===this.input.selectionStart}set loading(t){this.spinner.hidden=!t,this.searchIcon.hidden=t}resetScopeIfNeeded(){!this.multiPageEnabled&&this.value===""&&this.scope.id!==this.defaultScope.id&&(this.scope=this.defaultScope)}resetPlaceholder(){this.value.replace(this.overlay,"")&&this.overlay&&(this.typeaheadPlaceholder=""),this.placeholder=this.getAttribute("placeholder")||""}onInput(){this.resetPlaceholder(),this.clearButton.hidden=!this.hasSomethingToClear(),!!this.connected&&this._dispatchEvent("command-palette-input")}onClear(t){t instanceof KeyboardEvent&&t.key!=="Escape"||(this.value="",this.input.focus(),this._dispatchEvent("command-palette-cleared"))}onKeydown(t){if(this.isSelectKeystroke(t.key)&&(this._dispatchEvent("command-palette-select"),t.stopImmediatePropagation(),t.preventDefault()),this.hasSomethingToClear()&&(0,O.o)(t)&&t.key==="Backspace"){this.onClear();return}if(this.input.selectionStart===0&&this.input.selectionEnd===0&&(this.hasScope()||this.multiPageEnabled)&&t.key==="Backspace"){this._dispatchEvent("command-palette-descope"),t.stopImmediatePropagation(),t.preventDefault();return}}hasSomethingToClear(){return this.scopeElement.hasScope()||this.value.length>0}isSelectKeystroke(t){return t==="Tab"||t==="ArrowRight"&&this.isCursorAtEnd}textSelected(){return this.input.selectionStart!==this.input.selectionEnd}_dispatchEvent(t){const e=new CustomEvent(t,{cancelable:!0,detail:{typeahead:this.typeahead,value:this.value}});return this.dispatchEvent(e)}},"CommandPaletteInputElement");F.tagName="command-palette-input",Be([i.Lj],F.prototype,"multiPageEnabled",2),F=Be([i.Ih],F);var st=c(11793),ot=c(86404),nt=c(34078),Oe=c(64463),rt=c(83476);window.customElements.get(O.Z.tagName)||window.customElements.define(O.Z.tagName,O.Z);function it(){document.addEventListener("keydown",at),(0,Oe.N7)(".js-command-palette-dialog",t=>{if(!t)return;const e=window.performance.now(),s=te();!s||(t.addEventListener("toggle",()=>{t.open?s.activate():s.deactivate()}),s.addEventListener("command-palette-activated",o=>{o instanceof CustomEvent&&(o.detail.previouslyActivated||(0,rt.b)({distributionKey:"COMMAND_PALETTE_FIRST_OPEN",distributionValue:window.performance.now()-e}))}))}),(0,Oe.N7)(".js-socket-channel.js-updatable-content",{subscribe:t=>(0,ot.RB)(t,"socket:message",()=>{const e=te();!e||e.clearCommands(!1)})})}r(it,"observeCommandPalette");function te(){return document.querySelector(O.Z.tagName)}r(te,"findCommandPalette");function at(t){if(!t.code)return;const e=te();if(!e)return;const s=dt(),o=H(e.platformCommandModeHotkey,t),n=!ct(t)&&!s&&(H(e.platformActivationHotkey,t)||o),a=!s&&(H(e.platformSecondardActivationHotkey,t)||o),l=e.hasAttribute("data-memex-hotkey-enabled")&&s&&H(e.platformMemexActivationHotkey,t);(n||a||l)&&(ht(o),t.preventDefault(),t.stopPropagation())}r(at,"handleKeyDown");function H(t,e){let s=(0,st.EL)(e);return s=s.replace("\u02DA","k"),t.split(",").some(o=>s===o)}r(H,"hotkeyMatchesEvent");function ct(t){return lt(t)||ut(t)}r(ct,"shouldIgnoreActivation");function lt(t){const e=t.target;return e?e.closest(".js-previewable-comment-form")!==null:!1}r(lt,"triggeredInsideAPreviewableCommentForm");function ut(t){const e=t.target;if(!e)return!1;const s=e.closest(".js-code-editor");if(!s)return!1;const o=(0,nt.P)(s);if(!o)return!1;const n=o.editor;if(!n)return!1;const a=n.getMode().name;return a==="gfm"||a==="markdown"}r(ut,"triggeredInsideAMarkdownCodeEditor");function dt(){return!!document.querySelector("#memex-root")}r(dt,"triggeredInsideMemex");function ht(t){for(const e of document.querySelectorAll(".js-command-palette-dialog")){const s=e.querySelector(F.tagName);if(!s)return;if(e.open)e.open=!1;else{pt(s,t);const o=e.querySelector(O.Z.tagName);o&&(o.previouslyActiveElement=document.activeElement),e.open=!0}}}r(ht,"toggleCommandPalette");function pt(t,e){const s=t.value.startsWith(">");return e&&!s?(t.value=`>${t.value}`,!0):!e&&s?(t.value=t.value.substring(1),!0):!1}r(pt,"toggleCommandMode"),it()},34078:(b,g,c)=>{c.d(g,{P:()=>f,g:()=>p});var i=c(59753);const v=new WeakMap;function f(u){return v.get(u)}r(f,"getCodeEditor");async function p(u){return v.get(u)||h(await d(u,"codeEditor:ready"))}r(p,"getAsyncCodeEditor");function h(u){if(!(u instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const S=u.detail.editor;if(!u.target)throw new Error("assert: event.target is null");return v.set(u.target,S),S}r(h,"onEditorFromEvent"),(0,i.on)("codeEditor:ready",".js-code-editor",h);function d(u,S){return new Promise(y=>{u.addEventListener(S,y,{once:!0})})}r(d,"nextEvent")},74030:(b,g,c)=>{c.d(g,{I3:()=>i,h5:()=>f,on:()=>p,yn:()=>h});function i(){if(v("dark"))return"dark";if(v("light"))return"light"}r(i,"getPreferredColorMode");function v(d){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${d})`).matches}r(v,"prefersColorScheme");function f(d){const u=document.querySelector("html[data-color-mode]");!u||u.setAttribute("data-color-mode",d)}r(f,"setClientMode");function p(d,u){const S=document.querySelector("html[data-color-mode]");!S||S.setAttribute(`data-${u}-theme`,d)}r(p,"setClientTheme");function h(d){const u=document.querySelector("html[data-color-mode]");if(!!u)return u.getAttribute(`data-${d}-theme`)}r(h,"getClientTheme")},34782:(b,g,c)=>{c.d(g,{C:()=>v,x:()=>i});const i=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(f=>{document.addEventListener("DOMContentLoaded",()=>{f()})})}(),v=function(){return document.readyState==="complete"?Promise.resolve():new Promise(f=>{window.addEventListener("load",f)})}()},31756:(b,g,c)=>{c.d(g,{$:()=>d,c:()=>p});var i=c(15205);const v=(0,i.Z)(f);function f(){var u,S;return(((S=(u=document.head)==null?void 0:u.querySelector('meta[name="enabled-features"]'))==null?void 0:S.content)||"").split(",")}r(f,"enabledFeatures");const p=(0,i.Z)(h);function h(u){return v().indexOf(u)!==-1}r(h,"isEnabled");const d={isFeatureEnabled:p}},43452:(b,g,c)=>{c.d(g,{Z:()=>i});function i(v){var f,p;const h=(p=(f=v.head)==null?void 0:f.querySelector('meta[name="expected-hostname"]'))==null?void 0:p.content;if(!h)return!1;const d=h.replace(/\.$/,"").split(".").slice(-2).join("."),u=v.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return d!==u}r(i,"detectProxySite")},83476:(b,g,c)=>{c.d(g,{b:()=>p});var i=c(43452),v=c(34782);let f=[];function p(y,C=!1){y.timestamp===void 0&&(y.timestamp=new Date().getTime()),y.loggedIn=S(),f.push(y),C?u():d()}r(p,"sendStats");let h=null;async function d(){await v.C,h==null&&(h=window.requestIdleCallback(u))}r(d,"scheduleSendStats");function u(){var y,C;if(h=null,!f.length||(0,i.Z)(document))return;const x=(C=(y=document.head)==null?void 0:y.querySelector('meta[name="browser-stats-url"]'))==null?void 0:C.content;if(!x)return;const T=JSON.stringify({stats:f});try{navigator.sendBeacon&&navigator.sendBeacon(x,T)}catch{}f=[]}r(u,"flushStats");function S(){var y,C;return!!((C=(y=document.head)==null?void 0:y.querySelector('meta[name="user-login"]'))==null?void 0:C.content)}r(S,"isLoggedIn"),document.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u)},86404:(b,g,c)=>{c.d(g,{RB:()=>v,qC:()=>f,w0:()=>i});class i{constructor(h){this.closed=!1,this.unsubscribe=()=>{h(),this.closed=!0}}}r(i,"Subscription");function v(p,h,d,u={capture:!1}){return p.addEventListener(h,d,u),new i(()=>{p.removeEventListener(h,d,u)})}r(v,"fromEvent");function f(...p){return new i(()=>{for(const h of p)h.unsubscribe()})}r(f,"compose")}},b=>{var g=r(i=>b(b.s=i),"__webpack_exec__");b.O(0,[5724,6319,5426,6399],()=>g(16191));var c=b.O()}]);})();

//# sourceMappingURL=command-palette-1a00389a3402.js.map